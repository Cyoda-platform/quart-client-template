{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Cyoda design",
    "type": "object",
    "entities": [
        {
            "entity_name": "book_data_ingestion_job",
            "entity_type": "JOB",
            "entity_source": "API_REQUEST",
            "depends_on_entity": "None",
            "entity_workflow": {
                "name": "book_data_ingestion_workflow",
                "class_name": "com.cyoda.tdb.model.treenode.TreeNodeEntity",
                "transitions": [
                    {
                        "name": "start_data_ingestion",
                        "description": "Triggered by an API call to fetch book data.",
                        "start_state": "None",
                        "start_state_description": "Initial state before data ingestion.",
                        "end_state": "data_ingested",
                        "end_state_description": "Book data has been successfully ingested.",
                        "process": {
                            "name": "ingest_book_data",
                            "description": "Process to ingest book data from the specified API.",
                            "adds_new_entites": "book_entity"
                        }
                    }
                ]
            }
        },
        {
            "entity_name": "book_entity",
            "entity_type": "EXTERNAL_SOURCES_PULL_BASED_RAW_DATA",
            "entity_source": "ENTITY_EVENT",
            "depends_on_entity": "book_data_ingestion_job",
            "entity_workflow": {
                "name": "book_entity_workflow",
                "class_name": "com.cyoda.tdb.model.treenode.TreeNodeEntity",
                "transitions": []
            }
        }
    ]
}